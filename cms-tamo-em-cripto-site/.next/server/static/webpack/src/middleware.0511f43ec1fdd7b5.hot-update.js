"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/lib/actions/session.ts":
/*!************************************!*\
  !*** ./src/lib/actions/session.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   deleteSession: () => (/* binding */ deleteSession),\n/* harmony export */   encrypt: () => (/* binding */ encrypt),\n/* harmony export */   getSession: () => (/* binding */ getSession),\n/* harmony export */   getUserSession: () => (/* binding */ getUserSession),\n/* harmony export */   updateSession: () => (/* binding */ updateSession)\n/* harmony export */ });\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! server-only */ \"(middleware)/./node_modules/next/dist/compiled/server-only/empty.js\");\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(server_only__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(middleware)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/headers */ \"(middleware)/./node_modules/next/dist/esm/api/headers.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/browser/index.js\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jwt-decode */ \"(middleware)/./node_modules/jwt-decode/build/esm/index.js\");\n\n\n\n\n\n\nconst secretKey = process.env.NEXT_SESSION_SECRET;\nconst encodedKey = new TextEncoder().encode(secretKey);\nasync function encrypt(payload) {\n    return await new jose__WEBPACK_IMPORTED_MODULE_4__.SignJWT(payload).setProtectedHeader({\n        alg: \"HS256\"\n    }).setIssuedAt().setExpirationTime(\"7d\") // \"10 sec from now\"\n    .sign(encodedKey);\n}\nasync function decrypt(session = \"\") {\n    try {\n        const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_4__.jwtVerify)(session, encodedKey, {\n            algorithms: [\n                \"HS256\"\n            ]\n        });\n        return payload;\n    } catch (error) {\n        console.log(\"Failed to verify session\");\n    }\n}\nasync function getSession() {\n    //const cookie = request.cookies.get(\"session\")?.value\n    const cookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().get(\"session\")?.value;\n    if (!cookie) return null;\n    const session = await decrypt(cookie);\n    if (!session) return null;\n    return session;\n}\nasync function createSession(token) {\n    const expiresAt = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);\n    const session = await encrypt({\n        token,\n        expiresAt\n    }) // JSON.stringify(token)\n    ;\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().set(\"session\", session, {\n        expires: expiresAt,\n        maxAge: 60 * 60 * 24 * 7,\n        path: \"/\",\n        domain: process.env.HOST ?? \"localhost\",\n        httpOnly: true,\n        secure: true,\n        sameSite: \"lax\"\n    });\n}\nasync function updateSession(request) {\n    const session = await getSession();\n    if (!session) return null;\n    const expiresAt = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);\n    session.expires = expiresAt;\n    const response = next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.next();\n    response.cookies.set({\n        name: \"session\",\n        value: await encrypt(session),\n        expires: session.expires,\n        maxAge: 60 * 60 * 24 * 7,\n        path: \"/\",\n        domain: process.env.HOST ?? \"localhost\",\n        httpOnly: true,\n        secure: true,\n        sameSite: \"lax\"\n    });\n    return response;\n// cookies().set('session', session, {\n//   expires: expiresAt,\n//   maxAge: 60 * 60 * 24 * 7, // 1 week\n//   path: '/',\n//   domain: process.env.HOST ?? \"localhost\",\n//   httpOnly: true,\n//   secure: true, // process.env.NODE_ENV === \"production\",\n//   sameSite: 'lax',\n// })\n}\nfunction deleteSession() {\n    //cookies().set(\"session\", \"\", { ...config, maxAge: 0, expires: new Date(0) });\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().delete(\"session\");\n}\n// export const verifySession = cache(async () => {\n//   const session = await getSession()\n//   if (!session || !session?.token) return null // redirect('/login')\n//   return { isAuth: true, token: session.token }\n// })\nconst getUserSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.cache)(async ()=>{\n    const session = await verifySession();\n    if (!session || !session?.token) return null;\n    const token = session?.token;\n    return (0,jwt_decode__WEBPACK_IMPORTED_MODULE_5__.jwtDecode)(token);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL2xpYi9hY3Rpb25zL3Nlc3Npb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9CO0FBRVM7QUFDMEI7QUFDakI7QUFDRztBQUNIO0FBRXRDLE1BQU1NLFlBQVlDLFFBQVFDLEdBQUcsQ0FBQ0MsbUJBQW1CO0FBQ2pELE1BQU1DLGFBQWEsSUFBSUMsY0FBY0MsTUFBTSxDQUFDTjtBQUVyQyxlQUFlTyxRQUFRQyxPQUFZO0lBQ3hDLE9BQU8sTUFBTSxJQUFJWCx5Q0FBT0EsQ0FBQ1csU0FDdEJDLGtCQUFrQixDQUFDO1FBQUVDLEtBQUs7SUFBUSxHQUNsQ0MsV0FBVyxHQUNYQyxpQkFBaUIsQ0FBQyxNQUFNLG9CQUFvQjtLQUM1Q0MsSUFBSSxDQUFDVDtBQUNWO0FBRU8sZUFBZVUsUUFBUUMsVUFBOEIsRUFBRTtJQUM1RCxJQUFJO1FBQ0YsTUFBTSxFQUFFUCxPQUFPLEVBQUUsR0FBRyxNQUFNViwrQ0FBU0EsQ0FBQ2lCLFNBQVNYLFlBQVk7WUFBRVksWUFBWTtnQkFBQzthQUFRO1FBQUM7UUFDakYsT0FBT1I7SUFDVCxFQUFFLE9BQU9TLE9BQU87UUFDZEMsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7QUFDRjtBQUVPLGVBQWVDO0lBQ3BCLHNEQUFzRDtJQUN0RCxNQUFNQyxTQUFTekIscURBQU9BLEdBQUcwQixHQUFHLENBQUMsWUFBWUM7SUFDekMsSUFBSSxDQUFDRixRQUFRLE9BQU87SUFFcEIsTUFBTU4sVUFBVSxNQUFNRCxRQUFRTztJQUM5QixJQUFJLENBQUNOLFNBQVMsT0FBTztJQUVyQixPQUFPQTtBQUNUO0FBRU8sZUFBZVMsY0FBY0MsS0FBYTtJQUMvQyxNQUFNQyxZQUFZLElBQUlDLEtBQUtBLEtBQUtDLEdBQUcsS0FBSyxJQUFJLEtBQUssS0FBSyxLQUFLO0lBQzNELE1BQU1iLFVBQVUsTUFBTVIsUUFBUTtRQUFFa0I7UUFBT0M7SUFBVSxHQUFHLHdCQUF3Qjs7SUFFNUU5QixxREFBT0EsR0FBR2lDLEdBQUcsQ0FBQyxXQUFXZCxTQUFTO1FBQ2hDZSxTQUFTSjtRQUNUSyxRQUFRLEtBQUssS0FBSyxLQUFLO1FBQ3ZCQyxNQUFNO1FBQ05DLFFBQVFoQyxRQUFRQyxHQUFHLENBQUNnQyxJQUFJLElBQUk7UUFDNUJDLFVBQVU7UUFDVkMsUUFBUTtRQUNSQyxVQUFVO0lBQ1o7QUFDRjtBQUVPLGVBQWVDLGNBQWNDLE9BQW9CO0lBQ3RELE1BQU14QixVQUFVLE1BQU1LO0lBQ3RCLElBQUksQ0FBQ0wsU0FBUyxPQUFPO0lBRXJCLE1BQU1XLFlBQVksSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUs7SUFDM0RiLFFBQVFlLE9BQU8sR0FBR0o7SUFFbEIsTUFBTWMsV0FBVzdDLHFEQUFZQSxDQUFDOEMsSUFBSTtJQUNsQ0QsU0FBUzVDLE9BQU8sQ0FBQ2lDLEdBQUcsQ0FBQztRQUNuQmEsTUFBTTtRQUNObkIsT0FBTyxNQUFNaEIsUUFBUVE7UUFDckJlLFNBQVNmLFFBQVFlLE9BQU87UUFDeEJDLFFBQVEsS0FBSyxLQUFLLEtBQUs7UUFDdkJDLE1BQU07UUFDTkMsUUFBUWhDLFFBQVFDLEdBQUcsQ0FBQ2dDLElBQUksSUFBSTtRQUM1QkMsVUFBVTtRQUNWQyxRQUFRO1FBQ1JDLFVBQVU7SUFDWjtJQUVBLE9BQU9HO0FBR1Asc0NBQXNDO0FBQ3RDLHdCQUF3QjtBQUN4Qix3Q0FBd0M7QUFDeEMsZUFBZTtBQUNmLDZDQUE2QztBQUM3QyxvQkFBb0I7QUFDcEIsNERBQTREO0FBQzVELHFCQUFxQjtBQUNyQixLQUFLO0FBQ1A7QUFFTyxTQUFTRztJQUNkLCtFQUErRTtJQUMvRS9DLHFEQUFPQSxHQUFHZ0QsTUFBTSxDQUFDO0FBQ25CO0FBRUEsbURBQW1EO0FBQ25ELHVDQUF1QztBQUN2Qyx1RUFBdUU7QUFFdkUsa0RBQWtEO0FBQ2xELEtBQUs7QUFFRSxNQUFNQyxpQkFBaUJuRCw0Q0FBS0EsQ0FBQztJQUNsQyxNQUFNcUIsVUFBVSxNQUFNK0I7SUFDdEIsSUFBSSxDQUFDL0IsV0FBVyxDQUFDQSxTQUFTVSxPQUFPLE9BQU87SUFFeEMsTUFBTUEsUUFBUVYsU0FBU1U7SUFDdkIsT0FBTzFCLHFEQUFTQSxDQUFDMEI7QUFDbkIsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2FjdGlvbnMvc2Vzc2lvbi50cz8xMGE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnc2VydmVyLW9ubHknXHJcblxyXG5pbXBvcnQgeyBjYWNoZSB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCJcclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcclxuaW1wb3J0IHsgU2lnbkpXVCwgand0VmVyaWZ5IH0gZnJvbSAnam9zZSdcclxuaW1wb3J0IHsgand0RGVjb2RlIH0gZnJvbSBcImp3dC1kZWNvZGVcIlxyXG5cclxuY29uc3Qgc2VjcmV0S2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9TRVNTSU9OX1NFQ1JFVFxyXG5jb25zdCBlbmNvZGVkS2V5ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHNlY3JldEtleSlcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNyeXB0KHBheWxvYWQ6IGFueSkge1xyXG4gIHJldHVybiBhd2FpdCBuZXcgU2lnbkpXVChwYXlsb2FkKVxyXG4gICAgLnNldFByb3RlY3RlZEhlYWRlcih7IGFsZzogJ0hTMjU2JyB9KVxyXG4gICAgLnNldElzc3VlZEF0KClcclxuICAgIC5zZXRFeHBpcmF0aW9uVGltZSgnN2QnKSAvLyBcIjEwIHNlYyBmcm9tIG5vd1wiXHJcbiAgICAuc2lnbihlbmNvZGVkS2V5KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjcnlwdChzZXNzaW9uOiBzdHJpbmcgfCB1bmRlZmluZWQgPSAnJyk6IFByb21pc2U8YW55PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgand0VmVyaWZ5KHNlc3Npb24sIGVuY29kZWRLZXksIHsgYWxnb3JpdGhtczogWydIUzI1NiddIH0pXHJcbiAgICByZXR1cm4gcGF5bG9hZFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIHZlcmlmeSBzZXNzaW9uJylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXNzaW9uKCkge1xyXG4gIC8vY29uc3QgY29va2llID0gcmVxdWVzdC5jb29raWVzLmdldChcInNlc3Npb25cIik/LnZhbHVlXHJcbiAgY29uc3QgY29va2llID0gY29va2llcygpLmdldCgnc2Vzc2lvbicpPy52YWx1ZVxyXG4gIGlmICghY29va2llKSByZXR1cm4gbnVsbFxyXG5cclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZGVjcnlwdChjb29raWUpXHJcbiAgaWYgKCFzZXNzaW9uKSByZXR1cm4gbnVsbFxyXG5cclxuICByZXR1cm4gc2Vzc2lvblxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbih0b2tlbjogc3RyaW5nKSB7XHJcbiAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKVxyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBlbmNyeXB0KHsgdG9rZW4sIGV4cGlyZXNBdCB9KSAvLyBKU09OLnN0cmluZ2lmeSh0b2tlbilcclxuXHJcbiAgY29va2llcygpLnNldCgnc2Vzc2lvbicsIHNlc3Npb24sIHtcclxuICAgIGV4cGlyZXM6IGV4cGlyZXNBdCxcclxuICAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogNywgLy8gMSB3ZWVrXHJcbiAgICBwYXRoOiAnLycsXHJcbiAgICBkb21haW46IHByb2Nlc3MuZW52LkhPU1QgPz8gXCJsb2NhbGhvc3RcIixcclxuICAgIGh0dHBPbmx5OiB0cnVlLFxyXG4gICAgc2VjdXJlOiB0cnVlLCAvLyBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXHJcbiAgICBzYW1lU2l0ZTogJ2xheCcsXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNlc3Npb24ocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbigpXHJcbiAgaWYgKCFzZXNzaW9uKSByZXR1cm4gbnVsbFxyXG5cclxuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApXHJcbiAgc2Vzc2lvbi5leHBpcmVzID0gZXhwaXJlc0F0XHJcblxyXG4gIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoKVxyXG4gIHJlc3BvbnNlLmNvb2tpZXMuc2V0KHtcclxuICAgIG5hbWU6IFwic2Vzc2lvblwiLCBcclxuICAgIHZhbHVlOiBhd2FpdCBlbmNyeXB0KHNlc3Npb24pLCBcclxuICAgIGV4cGlyZXM6IHNlc3Npb24uZXhwaXJlcyxcclxuICAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogNywgLy8gMSB3ZWVrXHJcbiAgICBwYXRoOiBcIi9cIiwgXHJcbiAgICBkb21haW46IHByb2Nlc3MuZW52LkhPU1QgPz8gXCJsb2NhbGhvc3RcIixcclxuICAgIGh0dHBPbmx5OiB0cnVlLCBcclxuICAgIHNlY3VyZTogdHJ1ZSwgXHJcbiAgICBzYW1lU2l0ZTogJ2xheCcsXHJcbiAgfSlcclxuICBcclxuICByZXR1cm4gcmVzcG9uc2VcclxuXHJcbiAgXHJcbiAgLy8gY29va2llcygpLnNldCgnc2Vzc2lvbicsIHNlc3Npb24sIHtcclxuICAvLyAgIGV4cGlyZXM6IGV4cGlyZXNBdCxcclxuICAvLyAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogNywgLy8gMSB3ZWVrXHJcbiAgLy8gICBwYXRoOiAnLycsXHJcbiAgLy8gICBkb21haW46IHByb2Nlc3MuZW52LkhPU1QgPz8gXCJsb2NhbGhvc3RcIixcclxuICAvLyAgIGh0dHBPbmx5OiB0cnVlLFxyXG4gIC8vICAgc2VjdXJlOiB0cnVlLCAvLyBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXHJcbiAgLy8gICBzYW1lU2l0ZTogJ2xheCcsXHJcbiAgLy8gfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVNlc3Npb24oKSB7XHJcbiAgLy9jb29raWVzKCkuc2V0KFwic2Vzc2lvblwiLCBcIlwiLCB7IC4uLmNvbmZpZywgbWF4QWdlOiAwLCBleHBpcmVzOiBuZXcgRGF0ZSgwKSB9KTtcclxuICBjb29raWVzKCkuZGVsZXRlKCdzZXNzaW9uJylcclxufVxyXG5cclxuLy8gZXhwb3J0IGNvbnN0IHZlcmlmeVNlc3Npb24gPSBjYWNoZShhc3luYyAoKSA9PiB7XHJcbi8vICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb24oKVxyXG4vLyAgIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbj8udG9rZW4pIHJldHVybiBudWxsIC8vIHJlZGlyZWN0KCcvbG9naW4nKVxyXG5cclxuLy8gICByZXR1cm4geyBpc0F1dGg6IHRydWUsIHRva2VuOiBzZXNzaW9uLnRva2VuIH1cclxuLy8gfSlcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyU2Vzc2lvbiA9IGNhY2hlKGFzeW5jICgpID0+IHtcclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdmVyaWZ5U2Vzc2lvbigpXHJcbiAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uPy50b2tlbikgcmV0dXJuIG51bGxcclxuXHJcbiAgY29uc3QgdG9rZW4gPSBzZXNzaW9uPy50b2tlblxyXG4gIHJldHVybiBqd3REZWNvZGUodG9rZW4pXHJcbn0pXHJcbiJdLCJuYW1lcyI6WyJjYWNoZSIsIk5leHRSZXNwb25zZSIsImNvb2tpZXMiLCJTaWduSldUIiwiand0VmVyaWZ5Iiwiand0RGVjb2RlIiwic2VjcmV0S2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfU0VTU0lPTl9TRUNSRVQiLCJlbmNvZGVkS2V5IiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJlbmNyeXB0IiwicGF5bG9hZCIsInNldFByb3RlY3RlZEhlYWRlciIsImFsZyIsInNldElzc3VlZEF0Iiwic2V0RXhwaXJhdGlvblRpbWUiLCJzaWduIiwiZGVjcnlwdCIsInNlc3Npb24iLCJhbGdvcml0aG1zIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZ2V0U2Vzc2lvbiIsImNvb2tpZSIsImdldCIsInZhbHVlIiwiY3JlYXRlU2Vzc2lvbiIsInRva2VuIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsInNldCIsImV4cGlyZXMiLCJtYXhBZ2UiLCJwYXRoIiwiZG9tYWluIiwiSE9TVCIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJ1cGRhdGVTZXNzaW9uIiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsIm5hbWUiLCJkZWxldGVTZXNzaW9uIiwiZGVsZXRlIiwiZ2V0VXNlclNlc3Npb24iLCJ2ZXJpZnlTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/lib/actions/session.ts\n");

/***/ }),

/***/ "(middleware)/./node_modules/jwt-decode/build/esm/index.js":
/*!****************************************************!*\
  !*** ./node_modules/jwt-decode/build/esm/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidTokenError: () => (/* binding */ InvalidTokenError),\n/* harmony export */   jwtDecode: () => (/* binding */ jwtDecode)\n/* harmony export */ });\nclass InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nfunction jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL2p3dC1kZWNvZGUvYnVpbGQvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsUUFBUTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsU0FBUyxHQUFHLFVBQVU7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixTQUFTLEdBQUcsVUFBVTtBQUM3RztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9qd3QtZGVjb2RlL2J1aWxkL2VzbS9pbmRleC5qcz9lMDRiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBJbnZhbGlkVG9rZW5FcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbkludmFsaWRUb2tlbkVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJJbnZhbGlkVG9rZW5FcnJvclwiO1xuZnVuY3Rpb24gYjY0RGVjb2RlVW5pY29kZShzdHIpIHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGF0b2Ioc3RyKS5yZXBsYWNlKC8oLikvZywgKG0sIHApID0+IHtcbiAgICAgICAgbGV0IGNvZGUgPSBwLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChjb2RlLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIGNvZGUgPSBcIjBcIiArIGNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiJVwiICsgY29kZTtcbiAgICB9KSk7XG59XG5mdW5jdGlvbiBiYXNlNjRVcmxEZWNvZGUoc3RyKSB7XG4gICAgbGV0IG91dHB1dCA9IHN0ci5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgICBzd2l0Y2ggKG91dHB1dC5sZW5ndGggJSA0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBvdXRwdXQgKz0gXCI9PVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIG91dHB1dCArPSBcIj1cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZTY0IHN0cmluZyBpcyBub3Qgb2YgdGhlIGNvcnJlY3QgbGVuZ3RoXCIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYjY0RGVjb2RlVW5pY29kZShvdXRwdXQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBhdG9iKG91dHB1dCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGp3dERlY29kZSh0b2tlbiwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgdG9rZW4gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRUb2tlbkVycm9yKFwiSW52YWxpZCB0b2tlbiBzcGVjaWZpZWQ6IG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgfVxuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgY29uc3QgcG9zID0gb3B0aW9ucy5oZWFkZXIgPT09IHRydWUgPyAwIDogMTtcbiAgICBjb25zdCBwYXJ0ID0gdG9rZW4uc3BsaXQoXCIuXCIpW3Bvc107XG4gICAgaWYgKHR5cGVvZiBwYXJ0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkVG9rZW5FcnJvcihgSW52YWxpZCB0b2tlbiBzcGVjaWZpZWQ6IG1pc3NpbmcgcGFydCAjJHtwb3MgKyAxfWApO1xuICAgIH1cbiAgICBsZXQgZGVjb2RlZDtcbiAgICB0cnkge1xuICAgICAgICBkZWNvZGVkID0gYmFzZTY0VXJsRGVjb2RlKHBhcnQpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFRva2VuRXJyb3IoYEludmFsaWQgdG9rZW4gc3BlY2lmaWVkOiBpbnZhbGlkIGJhc2U2NCBmb3IgcGFydCAjJHtwb3MgKyAxfSAoJHtlLm1lc3NhZ2V9KWApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVkKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRUb2tlbkVycm9yKGBJbnZhbGlkIHRva2VuIHNwZWNpZmllZDogaW52YWxpZCBqc29uIGZvciBwYXJ0ICMke3BvcyArIDF9ICgke2UubWVzc2FnZX0pYCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/jwt-decode/build/esm/index.js\n");

/***/ })

});